# Как получить доступ и активировать NextCloudPi

[nc-wifi]: https://github.com/nextcloud/nextcloudpi/wiki/Configuration-Reference#nc-wifi

Это руководство поможет вам получить доступ к NextCloudPi.

# Доступ

## Мгновенный Доступ к Домену
При запуске, ваше устройство должно стать доступным на [https://nextcloudpi](https://nextcloudpi) или на [https://nextcloudpi.local](https://nextcloudpi.local).

![](https://ownyourbits.com/wp-content/uploads/2017/09/local-access1.jpg)

Если вы используете Windows, вам понадобитсо установить [Bonjour Services for Windows](https://support.apple.com/kb/DL999)  чтобы вы смогли бы открыть локальные домены. Если ваш браузер перенаправляет вас на какую-либо поисковую систему, вы можете вставить весь адрес (вместе с https://). 

Если это не поможет, попробуйте следующее, чтобы узнать IP-адрес вашего Raspberry Pi.

## Как найти IP-адрес Raspberry Pi
Вы должны найти локальный IP-адрес Raspberry Pi, чтобы подключиться к нему и настроить его.

### С экрана
Если вы подключите монитор с помощью кабеля HDMI к вашему Raspberry Pi, вы увидите локальный IP-адрес.

![screen-ip](https://ownyourbits.com/wp-content/uploads/2017/02/nextcloudpi_boot.jpg)

### С вашего домашнего веб-интерфейса рутера
Внимание: *Рутеры не используют один и тот же веб-интерфейс пользователя*
1. Откройте один браузер, например Firefox.
2. Посетите IP-адрес вашего домашнего рутера. IP-адрес написан под рутером. Обычно это будет 192.168.1.1
3. Войдите введя учетные данные аккаунта
4. Перейдите к записи в вашем меню которая показывает вашу карту сети, и найдите список который показывает IP-адреса подключенных устройств. IP-адрес вашего Raspberry Pi должен быть указан здесь.

### Linux / Mac
1. Установите `nmap` из диспетчера пакетов.
2. Откроите терминал.
3. Запустите команду `nmap -sP '192.168.0.*'`, на которой вы должны заменить сетевую IP(192.168.0) на вашу. 
Вам появиться что-то вроде этого:
```
Nmap scan report for 192.168.0.131 (192.168.0.131)
Host is up (0.016s latency).
MAC Address: AA:BB:CC:11:22:33 (Raspberry Pi Foundation)
```

Локальный IP-адрес этого Raspberry Pi `192.168.0.131`

### Windows
1. Установите `Angry IP Scanner` из [этого сайта](http://angryip.org/).
2. Запустите `Angry IP Scanner` и установите сетевой диапазон и маску. Например: `From: 192.168.0.0` `To: 192.168.0.255` `Netmask: /24`.
3. Нажмите Пуск.

У вас появиться список всех устройств которые подключенны к вашей сети. Если вам нужна допольнительная информация, смотрите [FAQ](http://angryip.org/faq/) Angry IP Scanner. 

## Доступ из локальной сети

Смотрите [это](https://github.com/nextcloud/nextcloudpi/wiki/How-to-access-from-outside-your-network)

## Используя DDNS домен в домашней сети NextCloudP

Вероятно, вы захотите использовать тот же DDNS домен внутри дома, который вы настроили для использования [снаружи](https://github.com/nextcloud/nextcloudpi/wiki/How-to-access-from-outside-your-network).

Таким образом ваш телефон, планшет и лаптоп без проблемы соединятся к облаку, независимо от того, где вы находитесь.

Сначало, постораитесь получить доступ к NCP с помощью вашего рабочего домена DDNS, например mycloud.freeDNS.org

Если у вас это получится, то вы готовы. В противном случае ваш рутер не поддерживает автоматическую NAT петлю. Вы должны попробовать: 

* A) Попробуите настроить дополнительную запис адреса для вашего домена (адрес который указывает на локальный IP-адрес NextCloudP) на DNS-сервере, или на форвардер вашего рутера.  (Например, если ваш рутер использует Dnsmasq и IP-адрес такой же как в примере: `address=/your.ddns.domain/192.168.0.131`) 

Если это не получится, вы можете включить и использовать DNS-сервер в NextCloudP.

* B1) Включите [dnsmasq](https://github.com/nextcloud/nextcloudpi/wiki/Configuration-Reference#dnsmasq) в конфигурации NextCloudPi. Введите зарегистрированный DDNS домен как DOMAIN, и IP-адрес вашего рутера (как DNSSERVER).

* B2) Пусть ваши компьютеры и другие устройства используют DNS-сервер NextCloudP когда вы подключайтесь внутри вашего дома:

  * 2.1) Предпочтительно, ваш рутер объявляет настраиваемый DNS-сервер вашим устройствам в DHCP конфигурации.

  * 2.2) Если нет, то вы должны настроить IP-адрес NextCloudP как основной и вторичный DNS-сервер для подключения к вашей локальной сети (обычно эти настройки в сетевом менеджере). Если вы хотите более подробную информацию об этом, смотрите [этот пост](https://ownyourbits.com/2017/03/09/dnsmasq-as-dns-cache-server-for-nextcloudpi-and-raspbian/)

---

# Активация

Теперь можно начать использовать NextCloudPi! Сначала введите IP-адрес или домен в своем браузере, а потом мы активируем NCP.

Нам будет представлена ​​страница активации. Распечатайте страницу, или скопируйте пароли, и нажмите «Активировать». Эти пароли можно изменить позже используя `nc-admin` и `nc-passwd`.

![](https://ownyourbits.com/wp-content/uploads/2018/04/ncp-activation.gif)

Отсюда мы перенаправляемся на ncp-web, где мы можем запустить первый Wizard.

![](https://ownyourbits.com/wp-content/uploads/2017/10/wizard-demo1.gif)

С этого момента мы уже можем получить доступ к Nxtcloud по IP-адресу, nextcloudpi.local или по зарегистрированному DDNS домену. Мы можем даже получить доступ к веб-панели на порту 4443, например: https://nextcloudpi.local:4443

Далее, узнайте [как настроить NextCloudPi](https://github.com/nextcloud/nextcloudpi/wiki/How-to-configure-NextCloudPi).